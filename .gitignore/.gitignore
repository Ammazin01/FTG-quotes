#by @ammazling
from telethon import events from telethon.errors.rpcerrorlist import YouBlockedUserError from telethon.tl.types import MessageMediaDocument from .. import loader, utils from time import sleep def register(cb):  cb(demotivator2Mod()) class demotivator2Mod(loader.Module): """Генератор цитат @ShittyQuoteBot""" strings = {'name': 'Генератор Цитат'} def init(self): self.name = self.strings['name'] self._me = None self._ratelimit = [] async def client_ready(self, client, db): self._db = db self._client = client self.me = await client.get_me() async def demcmd(self, message): """ .vq на сообщение""" args = utils.get_args_raw(message) reply = await message.get_reply_message() if not reply: await message.edit("<b>Реплай на текст</b>") return try: message = reply.message except: await message.edit("<b>Реплай только на текст</b>") return chat = '@ShittyQuoteBot' await message.edit('<b>Делаю...</b>') async with message.client.conversation(chat) as conv: try: response = conv.wait_event(events.NewMessage(incoming=True, from_users=1016409811))     await message.client.send_file(chat, message, caption = args)      response = await response except YouBlockedUserError: await message.reply('<b>Разблокируй @ShittyQuoteBot return await message.delete() await message.client.send_file(message.to_id, response.message, reply_to=await message.get_reply_message())
